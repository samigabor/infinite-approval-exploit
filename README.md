# Infinite-approval exploit

This exploit is a variant of the `infinite-approval` exploit, but it uses the `spender` parameter from the `permit` function to approve the `Bank` contract to spend all tokens from the victim. An attacker can use this exploit to steal all tokens from the victim.

This particular case uses `ERC20Permit` and `WETH` contracts to describe the attack. But it can be used with any ERC20 token for which the victim has approved a contract to spend his tokens.

## What is the exploit?

1. Victim gives **infinite approval** for `Bank.sol` to spend `WETH`.
2. Victim calls `deposit` and deposits 1 `WETH` into `Bank`.
3. Attacker calls `depositWithPermit` and passes an empty signature and transfers all tokens from Victim into `Bank`, which is credited to the attacker's deposit in `Bank`.
4. Attacker calls `withdraw` function.

## Instructions

1. Run `forge build`
2. Run `forge test -vv`
